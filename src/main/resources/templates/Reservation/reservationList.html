<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Rezervacije</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>

        body {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }

        /* Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .page-header h2 {
            font-weight: 700;
        }

        /* Cards */
        .reservation-card {
            border: none;
            border-radius: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            animation: fadeIn 0.4s ease forwards;
        }

        .card-title {
            font-weight: 600;
        }

        .btn-group {
            display: flex;
            gap: 8px;
        }

        .btn {
            border-radius: 20px !important;
        }

    </style>
</head>

<body>
<div class="container py-5">

    <div class="page-header">
        <h2>ğŸ“‹ Lista rezervacija</h2>
        <div>
            <a th:href="@{/}" class="btn btn-outline-primary rounded-pill">
                â† Nazad
            </a>
        </div>
    </div>

    <div class="row">
        <div th:each="reservation : ${reservations}" class="col-md-4 mb-4">
            <div class="card reservation-card h-100">
                <div class="card-body">
                    <h5 class="card-title" th:text="${reservation.reservationNumber}"></h5>

                    <p class="mb-1"><strong>ğŸ¨ Hotel:</strong> <span th:text="${reservation.hotel.name}"></span></p>
                    <p class="mb-1"><strong>ğŸ‘¤ Gost:</strong> <span th:text="${reservation.guest.firstName} + ' ' + ${reservation.guest.lastName}"></span></p>
                    <p class="mb-1"><strong>ğŸ›ï¸ Soba:</strong> <span th:text="${reservation.room.roomNumber}"></span></p>
                    <p class="mb-1"><strong>ğŸ‘¥ Broj gostiju:</strong> <span th:text="${reservation.numberOFGuests}"></span></p>
                    <p class="mb-1"><strong>ğŸ“… Check-in:</strong> <span th:text="${reservation.checkInDate}"></span></p>
                    <p class="mb-1"><strong>ğŸ“… Check-out:</strong> <span th:text="${reservation.checkOutDate}"></span></p>

                    <div th:if="${reservation.service != null}">
                        <p class="mb-1"><strong>ğŸ½ï¸ Usluga:</strong> <span th:text="${reservation.service.type.displayName}"></span></p>
                        <p class="mb-1"><strong>ğŸ“„ Opis:</strong> <span th:text="${reservation.service.description}"></span></p>
                        <p class="mb-1"><strong>ğŸ’µ Cena dodatne usluge:</strong> <span th:text="${reservation.service.price} + 'â‚¬'"></span></p>
                    </div>
                    <p class="mb-1"><strong>ğŸ’° Ukupno:</strong> <span th:text="${reservation.totalPrice} + 'â‚¬'"></span></p>
                </div>

                <div class="card-footer bg-transparent border-0">
                    <div class="btn-group w-100">
                        <a th:href="@{'/reservation/edit?reservationId=' + ${reservation.id}}"
                           class="btn btn-outline-primary btn-sm">âœï¸</a>
                        <a th:href="@{'/reservation/remove?reservationId=' + ${reservation.id}}"
                           class="btn btn-outline-danger btn-sm"
                           onclick="return confirm('Obrisati rezervaciju?')">ğŸ—‘ï¸</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>
